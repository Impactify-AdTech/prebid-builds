{"version":3,"file":"debugging-standalone.js","mappings":"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","sources":["webpack://prebid.js/./modules/debugging/bidInterceptor.js","webpack://prebid.js/./modules/debugging/debugging.js","webpack://prebid.js/./modules/debugging/legacy.js","webpack://prebid.js/./modules/debugging/pbsInterceptor.js","webpack://prebid.js/./src/config.js","webpack://prebid.js/./src/cpmBucketManager.js","webpack://prebid.js/./src/polyfill.js","webpack://prebid.js/./src/prebidGlobal.js","webpack://prebid.js/./src/utils.js","webpack://prebid.js/./src/utils/promise.js","webpack://prebid.js/./node_modules/dlv/index.js","webpack://prebid.js/./node_modules/just-clone/index.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorGet.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorSet.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://prebid.js/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://prebid.js/webpack/bootstrap","webpack://prebid.js/webpack/runtime/compat get default export","webpack://prebid.js/webpack/runtime/define property getters","webpack://prebid.js/webpack/runtime/hasOwnProperty shorthand","webpack://prebid.js/./modules/debugging/standalone.js"],"sourcesContent":["import {\n  deepAccess,\n  deepClone,\n  deepEqual,\n  delayExecution,\n  mergeDeep\n} from '../../src/utils.js';\n\n/**\n * @typedef {Number|String|boolean|null|undefined} Scalar\n */\n\nexport function BidInterceptor(opts = {}) {\n  ({setTimeout: this.setTimeout = window.setTimeout.bind(window)} = opts);\n  this.logger = opts.logger;\n  this.rules = [];\n}\n\nObject.assign(BidInterceptor.prototype, {\n  DEFAULT_RULE_OPTIONS: {\n    delay: 0\n  },\n  serializeConfig(ruleDefs) {\n    const isSerializable = (ruleDef, i) => {\n      const serializable = deepEqual(ruleDef, JSON.parse(JSON.stringify(ruleDef)), {checkTypes: true});\n      if (!serializable && !deepAccess(ruleDef, 'options.suppressWarnings')) {\n        this.logger.logWarn(`Bid interceptor rule definition #${i + 1} is not serializable and will be lost after a refresh. Rule definition: `, ruleDef);\n      }\n      return serializable;\n    }\n    return ruleDefs.filter(isSerializable);\n  },\n  updateConfig(config) {\n    this.rules = (config.intercept || []).map((ruleDef, i) => this.rule(ruleDef, i + 1))\n  },\n  /**\n   * @typedef {Object} RuleOptions\n   * @property {Number} [delay=0] delay between bid interception and mocking of response (to simulate network delay)\n   * @property {boolean} [suppressWarnings=false] if enabled, do not warn about unserializable rules\n   *\n   * @typedef {Object} Rule\n   * @property {Number} no rule number (used only as an identifier for logging)\n   * @property {function({}, {}): boolean} match a predicate function that tests a bid against this rule\n   * @property {ReplacerFn} replacer generator function for mock bid responses\n   * @property {RuleOptions} options\n   */\n\n  /**\n   * @param {{}} ruleDef\n   * @param {Number} ruleNo\n   * @returns {Rule}\n   */\n  rule(ruleDef, ruleNo) {\n    return {\n      no: ruleNo,\n      match: this.matcher(ruleDef.when, ruleNo),\n      replace: this.replacer(ruleDef.then || {}, ruleNo),\n      options: Object.assign({}, this.DEFAULT_RULE_OPTIONS, ruleDef.options),\n    }\n  },\n  /**\n   * @typedef {Function} MatchPredicate\n   * @param {*} candidate a bid to match, or a portion of it if used inside an ObjectMather.\n   * e.g. matcher((bid, bidRequest) => ....) or matcher({property: (property, bidRequest) => ...})\n   * @param {BidRequest} bidRequest the request `candidate` belongs to\n   * @returns {boolean}\n   *\n   * @typedef {{[key]: Scalar|RegExp|MatchPredicate|ObjectMatcher}} ObjectMatcher\n   */\n\n  /**\n   * @param {MatchPredicate|ObjectMatcher} matchDef matcher definition\n   * @param {Number} ruleNo\n   * @returns {MatchPredicate} a predicate function that matches a bid against the given `matchDef`\n   */\n  matcher(matchDef, ruleNo) {\n    if (typeof matchDef === 'function') {\n      return matchDef;\n    }\n    if (typeof matchDef !== 'object') {\n      this.logger.logError(`Invalid 'when' definition for debug bid interceptor (in rule #${ruleNo})`);\n      return () => false;\n    }\n    function matches(candidate, {ref = matchDef, args = []}) {\n      return Object.entries(ref).map(([key, val]) => {\n        const cVal = candidate[key];\n        if (val instanceof RegExp) {\n          return val.exec(cVal) != null;\n        }\n        if (typeof val === 'function') {\n          return !!val(cVal, ...args);\n        }\n        if (typeof val === 'object') {\n          return matches(cVal, {ref: val, args});\n        }\n        return cVal === val;\n      }).every((i) => i);\n    }\n    return (candidate, ...args) => matches(candidate, {args});\n  },\n  /**\n   * @typedef {Function} ReplacerFn\n   * @param {*} bid a bid that was intercepted\n   * @param {BidRequest} bidRequest the request `bid` belongs to\n   * @returns {*} the response to mock for `bid`, or a portion of it if used inside an ObjectReplacer.\n   * e.g. replacer((bid, bidRequest) => mockResponse) or replacer({property: (bid, bidRequest) => mockProperty})\n   *\n   * @typedef {{[key]: ReplacerFn|ObjectReplacer|*}} ObjectReplacer\n   */\n\n  /**\n   * @param {ReplacerFn|ObjectReplacer} replDef replacer definition\n   * @param ruleNo\n   * @return {ReplacerFn}\n   */\n  replacer(replDef, ruleNo) {\n    let replFn;\n    if (typeof replDef === 'function') {\n      replFn = ({args}) => replDef(...args);\n    } else if (typeof replDef !== 'object') {\n      this.logger.logError(`Invalid 'then' definition for debug bid interceptor (in rule #${ruleNo})`);\n      replFn = () => ({});\n    } else {\n      replFn = ({args, ref = replDef}) => {\n        const result = Array.isArray(ref) ? [] : {};\n        Object.entries(ref).forEach(([key, val]) => {\n          if (typeof val === 'function') {\n            result[key] = val(...args);\n          } else if (val != null && typeof val === 'object') {\n            result[key] = replFn({args, ref: val})\n          } else {\n            result[key] = val;\n          }\n        });\n        return result;\n      }\n    }\n    return (bid, ...args) => {\n      const response = this.responseDefaults(bid);\n      mergeDeep(response, replFn({args: [bid, ...args]}));\n      if (!response.hasOwnProperty('ad') && !response.hasOwnProperty('adUrl')) {\n        response.ad = this.defaultAd(bid, response);\n      }\n      response.isDebug = true;\n      return response;\n    }\n  },\n  responseDefaults(bid) {\n    return {\n      requestId: bid.bidId,\n      cpm: 3.5764,\n      currency: 'EUR',\n      width: 300,\n      height: 250,\n      ttl: 360,\n      creativeId: 'mock-creative-id',\n      netRevenue: false,\n      meta: {}\n    };\n  },\n  defaultAd(bid, bidResponse) {\n    return `<html><head><style>#ad {width: ${bidResponse.width}px;height: ${bidResponse.height}px;background-color: #f6f6ae;color: #85144b;padding: 5px;text-align: center;display: flex;flex-direction: column;align-items: center;justify-content: center;}#bidder {font-family: monospace;font-weight: normal;}#title {font-size: x-large;font-weight: bold;margin-bottom: 5px;}#body {font-size: large;margin-top: 5px;}</style></head><body><div id=\"ad\"><div id=\"title\">Mock ad: <span id=\"bidder\">${bid.bidder}</span></div><div id=\"body\">${bidResponse.width}x${bidResponse.height}</div></div></body></html>`;\n  },\n  /**\n   * Match a candidate bid against all registered rules.\n   *\n   * @param {{}} candidate\n   * @param args\n   * @returns {Rule|undefined} the first matching rule, or undefined if no match was found.\n   */\n  match(candidate, ...args) {\n    return this.rules.find((rule) => rule.match(candidate, ...args));\n  },\n  /**\n   * Match a set of bids against all registered rules.\n   *\n   * @param bids\n   * @param bidRequest\n   * @returns {[{bid: *, rule: Rule}[], *[]]} a 2-tuple for matching bids (decorated with the matching rule) and\n   * non-matching bids.\n   */\n  matchAll(bids, bidRequest) {\n    const [matches, remainder] = [[], []];\n    bids.forEach((bid) => {\n      const rule = this.match(bid, bidRequest);\n      if (rule != null) {\n        matches.push({rule: rule, bid: bid});\n      } else {\n        remainder.push(bid);\n      }\n    })\n    return [matches, remainder];\n  },\n  /**\n   * Run a set of bids against all registered rules, filter out those that match,\n   * and generate mock responses for them.\n   *\n   * @param {{}[]} bids?\n   * @param {BidRequest} bidRequest\n   * @param {function(*)} addBid called once for each mock response\n   * @param {function()} done called once after all mock responses have been run through `addBid`\n   * @returns {{bids: {}[], bidRequest: {}} remaining bids that did not match any rule (this applies also to\n   * bidRequest.bids)\n   */\n  intercept({bids, bidRequest, addBid, done}) {\n    if (bids == null) {\n      bids = bidRequest.bids;\n    }\n    const [matches, remainder] = this.matchAll(bids, bidRequest);\n    if (matches.length > 0) {\n      const callDone = delayExecution(done, matches.length);\n      matches.forEach((match) => {\n        const mockResponse = match.rule.replace(match.bid, bidRequest);\n        const delay = match.rule.options.delay;\n        this.logger.logMessage(`Intercepted bid request (matching rule #${match.rule.no}), mocking response in ${delay}ms. Request, response:`, match.bid, mockResponse)\n        this.setTimeout(() => {\n          addBid(mockResponse, match.bid);\n          callDone();\n        }, delay)\n      });\n      bidRequest = deepClone(bidRequest);\n      bids = bidRequest.bids = remainder;\n    } else {\n      this.setTimeout(done, 0);\n    }\n    return {bids, bidRequest};\n  }\n});\n","import {deepClone, delayExecution} from '../../src/utils.js';\nimport {BidInterceptor} from './bidInterceptor.js';\nimport {makePbsInterceptor} from './pbsInterceptor.js';\nimport {addHooks, removeHooks} from './legacy.js';\n\nconst interceptorHooks = [];\nlet bidInterceptor;\nlet enabled = false;\n\nfunction enableDebugging(debugConfig, {fromSession = false, config, hook, logger}) {\n  config.setConfig({debug: true});\n  bidInterceptor.updateConfig(debugConfig);\n  resetHooks(true);\n  // also enable \"legacy\" overrides\n  removeHooks({hook});\n  addHooks(debugConfig, {hook, logger});\n  if (!enabled) {\n    enabled = true;\n    logger.logMessage(`Debug overrides enabled${fromSession ? ' from session' : ''}`);\n  }\n}\n\nexport function disableDebugging({hook, logger}) {\n  bidInterceptor.updateConfig(({}));\n  resetHooks(false);\n  // also disable \"legacy\" overrides\n  removeHooks({hook});\n  if (enabled) {\n    enabled = false;\n    logger.logMessage('Debug overrides disabled');\n  }\n}\n\nfunction saveDebuggingConfig(debugConfig, {sessionStorage = window.sessionStorage, DEBUG_KEY} = {}) {\n  if (!debugConfig.enabled) {\n    try {\n      sessionStorage.removeItem(DEBUG_KEY);\n    } catch (e) {\n    }\n  } else {\n    if (debugConfig.intercept) {\n      debugConfig = deepClone(debugConfig);\n      debugConfig.intercept = bidInterceptor.serializeConfig(debugConfig.intercept);\n    }\n    try {\n      sessionStorage.setItem(DEBUG_KEY, JSON.stringify(debugConfig));\n    } catch (e) {\n    }\n  }\n}\n\nexport function getConfig(debugging, {getStorage = () => window.sessionStorage, DEBUG_KEY, config, hook, logger} = {}) {\n  if (debugging == null) return;\n  let sessionStorage;\n  try {\n    sessionStorage = getStorage();\n  } catch (e) {\n    logger.logError(`sessionStorage is not available: debugging configuration will not persist on page reload`, e);\n  }\n  if (sessionStorage != null) {\n    saveDebuggingConfig(debugging, {sessionStorage, DEBUG_KEY});\n  }\n  if (!debugging.enabled) {\n    disableDebugging({hook, logger});\n  } else {\n    enableDebugging(debugging, {config, hook, logger});\n  }\n}\n\nexport function sessionLoader({DEBUG_KEY, storage, config, hook, logger}) {\n  let overrides;\n  try {\n    storage = storage || window.sessionStorage;\n    overrides = JSON.parse(storage.getItem(DEBUG_KEY));\n  } catch (e) {\n  }\n  if (overrides) {\n    enableDebugging(overrides, {fromSession: true, config, hook, logger});\n  }\n}\n\nfunction resetHooks(enable) {\n  interceptorHooks.forEach(([getHookFn, interceptor]) => {\n    getHookFn().getHooks({hook: interceptor}).remove();\n  });\n  if (enable) {\n    interceptorHooks.forEach(([getHookFn, interceptor]) => {\n      getHookFn().before(interceptor);\n    });\n  }\n}\n\nfunction registerBidInterceptor(getHookFn, interceptor) {\n  const interceptBids = (...args) => bidInterceptor.intercept(...args);\n  interceptorHooks.push([getHookFn, function (next, ...args) {\n    interceptor(next, interceptBids, ...args);\n  }]);\n}\n\nexport function bidderBidInterceptor(next, interceptBids, spec, bids, bidRequest, ajax, wrapCallback, cbs) {\n  const done = delayExecution(cbs.onCompletion, 2);\n  ({bids, bidRequest} = interceptBids({bids, bidRequest, addBid: cbs.onBid, done}));\n  if (bids.length === 0) {\n    done();\n  } else {\n    next(spec, bids, bidRequest, ajax, wrapCallback, {...cbs, onCompletion: done});\n  }\n}\n\nexport function install({DEBUG_KEY, config, hook, createBid, logger}) {\n  bidInterceptor = new BidInterceptor({logger});\n  const pbsBidInterceptor = makePbsInterceptor({createBid});\n  registerBidInterceptor(() => hook.get('processBidderRequests'), bidderBidInterceptor);\n  registerBidInterceptor(() => hook.get('processPBSRequest'), pbsBidInterceptor);\n  sessionLoader({DEBUG_KEY, config, hook, logger});\n  config.getConfig('debugging', ({debugging}) => getConfig(debugging, {DEBUG_KEY, config, hook, logger}), {init: true});\n}\n","export let addBidResponseBound;\nexport let addBidderRequestsBound;\n\nexport function addHooks(overrides, {hook, logger}) {\n  addBidResponseBound = addBidResponseHook.bind({overrides, logger});\n  hook.get('addBidResponse').before(addBidResponseBound, 5);\n\n  addBidderRequestsBound = addBidderRequestsHook.bind({overrides, logger});\n  hook.get('addBidderRequests').before(addBidderRequestsBound, 5);\n}\n\nexport function removeHooks({hook}) {\n  hook.get('addBidResponse').getHooks({hook: addBidResponseBound}).remove();\n  hook.get('addBidderRequests').getHooks({hook: addBidderRequestsBound}).remove();\n}\n\n/**\n * @param {{bidder:string, adUnitCode:string}} overrideObj\n * @param {string} bidderCode\n * @param {string} adUnitCode\n * @returns {boolean}\n */\nexport function bidExcluded(overrideObj, bidderCode, adUnitCode) {\n  if (overrideObj.bidder && overrideObj.bidder !== bidderCode) {\n    return true;\n  }\n  if (overrideObj.adUnitCode && overrideObj.adUnitCode !== adUnitCode) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * @param {string[]} bidders\n * @param {string} bidderCode\n * @returns {boolean}\n */\nexport function bidderExcluded(bidders, bidderCode) {\n  return (Array.isArray(bidders) && bidders.indexOf(bidderCode) === -1);\n}\n\n/**\n * @param {Object} overrideObj\n * @param {Object} bidObj\n * @param {Object} bidType\n * @returns {Object} bidObj with overridden properties\n */\nexport function applyBidOverrides(overrideObj, bidObj, bidType, logger) {\n  return Object.keys(overrideObj).filter(key => (['adUnitCode', 'bidder'].indexOf(key) === -1)).reduce(function(result, key) {\n    logger.logMessage(`bidder overrides changed '${result.adUnitCode}/${result.bidderCode}' ${bidType}.${key} from '${result[key]}.js' to '${overrideObj[key]}'`);\n    result[key] = overrideObj[key];\n    result.isDebug = true;\n    return result;\n  }, bidObj);\n}\n\nexport function addBidResponseHook(next, adUnitCode, bid, reject) {\n  const {overrides, logger} = this;\n\n  if (bidderExcluded(overrides.bidders, bid.bidderCode)) {\n    logger.logWarn(`bidder '${bid.bidderCode}' excluded from auction by bidder overrides`);\n    return;\n  }\n\n  if (Array.isArray(overrides.bids)) {\n    overrides.bids.forEach(function(overrideBid) {\n      if (!bidExcluded(overrideBid, bid.bidderCode, adUnitCode)) {\n        applyBidOverrides(overrideBid, bid, 'bidder', logger);\n      }\n    });\n  }\n\n  next(adUnitCode, bid, reject);\n}\n\nexport function addBidderRequestsHook(next, bidderRequests) {\n  const {overrides, logger} = this;\n\n  const includedBidderRequests = bidderRequests.filter(function (bidderRequest) {\n    if (bidderExcluded(overrides.bidders, bidderRequest.bidderCode)) {\n      logger.logWarn(`bidRequest '${bidderRequest.bidderCode}' excluded from auction by bidder overrides`);\n      return false;\n    }\n    return true;\n  });\n\n  if (Array.isArray(overrides.bidRequests)) {\n    includedBidderRequests.forEach(function(bidderRequest) {\n      overrides.bidRequests.forEach(function(overrideBid) {\n        bidderRequest.bids.forEach(function(bid) {\n          if (!bidExcluded(overrideBid, bidderRequest.bidderCode, bid.adUnitCode)) {\n            applyBidOverrides(overrideBid, bid, 'bidRequest', logger);\n          }\n        });\n      });\n    });\n  }\n\n  next(includedBidderRequests);\n}\n","import {deepClone, delayExecution} from '../../src/utils.js';\nimport CONSTANTS from '../../src/constants.json';\n\nexport function makePbsInterceptor({createBid}) {\n  return function pbsBidInterceptor(next, interceptBids, s2sBidRequest, bidRequests, ajax, {\n    onResponse,\n    onError,\n    onBid\n  }) {\n    let responseArgs;\n    const done = delayExecution(() => onResponse(...responseArgs), bidRequests.length + 1)\n    function signalResponse(...args) {\n      responseArgs = args;\n      done();\n    }\n    function addBid(bid, bidRequest) {\n      onBid({\n        adUnit: bidRequest.adUnitCode,\n        bid: Object.assign(createBid(CONSTANTS.STATUS.GOOD, bidRequest), bid)\n      })\n    }\n    bidRequests = bidRequests\n      .map((req) => interceptBids({bidRequest: req, addBid, done}).bidRequest)\n      .filter((req) => req.bids.length > 0)\n\n    if (bidRequests.length > 0) {\n      const bidIds = new Set();\n      bidRequests.forEach((req) => req.bids.forEach((bid) => bidIds.add(bid.bidId)));\n      s2sBidRequest = deepClone(s2sBidRequest);\n      s2sBidRequest.ad_units.forEach((unit) => {\n        unit.bids = unit.bids.filter((bid) => bidIds.has(bid.bid_id));\n      })\n      s2sBidRequest.ad_units = s2sBidRequest.ad_units.filter((unit) => unit.bids.length > 0);\n      next(s2sBidRequest, bidRequests, ajax, {onResponse: signalResponse, onError, onBid});\n    } else {\n      signalResponse(true, []);\n    }\n  }\n}\n","/*\n * Module for getting and setting Prebid configuration.\n*/\n\n/**\n * @typedef {Object} MediaTypePriceGranularity\n *\n * @property {(string|Object)} [banner]\n * @property {(string|Object)} [native]\n * @property {(string|Object)} [video]\n * @property {(string|Object)} [video-instream]\n * @property {(string|Object)} [video-outstream]\n */\n\nimport {isValidPriceConfig} from './cpmBucketManager.js';\nimport {arrayFrom as from, find, includes} from './polyfill.js';\nimport {\n  deepAccess,\n  deepClone,\n  getParameterByName,\n  isArray,\n  isBoolean,\n  isPlainObject,\n  isStr,\n  logError,\n  logMessage,\n  logWarn,\n  mergeDeep\n} from './utils.js';\nimport CONSTANTS from './constants.json';\n\nconst DEFAULT_DEBUG = getParameterByName(CONSTANTS.DEBUG_MODE).toUpperCase() === 'TRUE';\nconst DEFAULT_BIDDER_TIMEOUT = 3000;\nconst DEFAULT_ENABLE_SEND_ALL_BIDS = true;\nconst DEFAULT_DISABLE_AJAX_TIMEOUT = false;\nconst DEFAULT_BID_CACHE = false;\nconst DEFAULT_DEVICE_ACCESS = true;\nconst DEFAULT_MAX_NESTED_IFRAMES = 10;\n\nconst DEFAULT_TIMEOUTBUFFER = 400;\n\nexport const RANDOM = 'random';\nconst FIXED = 'fixed';\n\nconst VALID_ORDERS = {};\nVALID_ORDERS[RANDOM] = true;\nVALID_ORDERS[FIXED] = true;\n\nconst DEFAULT_BIDDER_SEQUENCE = RANDOM;\n\nconst GRANULARITY_OPTIONS = {\n  LOW: 'low',\n  MEDIUM: 'medium',\n  HIGH: 'high',\n  AUTO: 'auto',\n  DENSE: 'dense',\n  CUSTOM: 'custom'\n};\n\nconst ALL_TOPICS = '*';\n\nexport function newConfig() {\n  let listeners = [];\n  let defaults;\n  let config;\n  let bidderConfig;\n  let currBidder = null;\n\n  function resetConfig() {\n    defaults = {};\n\n    function getProp(name) {\n      return props[name].val;\n    }\n\n    function setProp(name, val) {\n      props[name].val = val;\n    }\n\n    const props = {\n      publisherDomain: {\n        set(val) {\n          if (val != null) {\n            logWarn('publisherDomain is deprecated and has no effect since v7 - use pageUrl instead')\n          }\n          setProp('publisherDomain', val);\n        }\n      },\n      priceGranularity: {\n        val: GRANULARITY_OPTIONS.MEDIUM,\n        set(val) {\n          if (validatePriceGranularity(val)) {\n            if (typeof val === 'string') {\n              setProp('priceGranularity', (hasGranularity(val)) ? val : GRANULARITY_OPTIONS.MEDIUM);\n            } else if (isPlainObject(val)) {\n              setProp('customPriceBucket', val);\n              setProp('priceGranularity', GRANULARITY_OPTIONS.CUSTOM)\n              logMessage('Using custom price granularity');\n            }\n          }\n        }\n      },\n      customPriceBucket: {\n        val: {},\n        set() {}\n      },\n      mediaTypePriceGranularity: {\n        val: {},\n        set(val) {\n          val != null && setProp('mediaTypePriceGranularity', Object.keys(val).reduce((aggregate, item) => {\n            if (validatePriceGranularity(val[item])) {\n              if (typeof val === 'string') {\n                aggregate[item] = (hasGranularity(val[item])) ? val[item] : getProp('priceGranularity');\n              } else if (isPlainObject(val)) {\n                aggregate[item] = val[item];\n                logMessage(`Using custom price granularity for ${item}`);\n              }\n            } else {\n              logWarn(`Invalid price granularity for media type: ${item}`);\n            }\n            return aggregate;\n          }, {}));\n        }\n      },\n      bidderSequence: {\n        val: DEFAULT_BIDDER_SEQUENCE,\n        set(val) {\n          if (VALID_ORDERS[val]) {\n            setProp('bidderSequence', val);\n          } else {\n            logWarn(`Invalid order: ${val}. Bidder Sequence was not set.`);\n          }\n        }\n      },\n      auctionOptions: {\n        val: {},\n        set(val) {\n          if (validateauctionOptions(val)) {\n            setProp('auctionOptions', val);\n          }\n        }\n      }\n    }\n    let newConfig = {\n      // `debug` is equivalent to legacy `pbjs.logging` property\n      debug: DEFAULT_DEBUG,\n      bidderTimeout: DEFAULT_BIDDER_TIMEOUT,\n      enableSendAllBids: DEFAULT_ENABLE_SEND_ALL_BIDS,\n      useBidCache: DEFAULT_BID_CACHE,\n\n      /**\n       * deviceAccess set to false will disable setCookie, getCookie, hasLocalStorage\n       * @type {boolean}\n       */\n      deviceAccess: DEFAULT_DEVICE_ACCESS,\n\n      // timeout buffer to adjust for bidder CDN latency\n      timeoutBuffer: DEFAULT_TIMEOUTBUFFER,\n      disableAjaxTimeout: DEFAULT_DISABLE_AJAX_TIMEOUT,\n\n      // default max nested iframes for referer detection\n      maxNestedIframes: DEFAULT_MAX_NESTED_IFRAMES,\n    };\n\n    Object.defineProperties(newConfig,\n      Object.fromEntries(Object.entries(props)\n        .map(([k, def]) => [k, Object.assign({\n          get: getProp.bind(null, k),\n          set: setProp.bind(null, k),\n          enumerable: true,\n        }, def)]))\n    );\n\n    if (config) {\n      callSubscribers(\n        Object.keys(config).reduce((memo, topic) => {\n          if (config[topic] !== newConfig[topic]) {\n            memo[topic] = newConfig[topic] || {};\n          }\n          return memo;\n        },\n        {})\n      );\n    }\n\n    config = newConfig;\n    bidderConfig = {};\n\n    function hasGranularity(val) {\n      return find(Object.keys(GRANULARITY_OPTIONS), option => val === GRANULARITY_OPTIONS[option]);\n    }\n\n    function validatePriceGranularity(val) {\n      if (!val) {\n        logError('Prebid Error: no value passed to `setPriceGranularity()`');\n        return false;\n      }\n      if (typeof val === 'string') {\n        if (!hasGranularity(val)) {\n          logWarn('Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.');\n        }\n      } else if (isPlainObject(val)) {\n        if (!isValidPriceConfig(val)) {\n          logError('Invalid custom price value passed to `setPriceGranularity()`');\n          return false;\n        }\n      }\n      return true;\n    }\n\n    function validateauctionOptions(val) {\n      if (!isPlainObject(val)) {\n        logWarn('Auction Options must be an object')\n        return false\n      }\n\n      for (let k of Object.keys(val)) {\n        if (k !== 'secondaryBidders' && k !== 'suppressStaleRender') {\n          logWarn(`Auction Options given an incorrect param: ${k}`)\n          return false\n        }\n        if (k === 'secondaryBidders') {\n          if (!isArray(val[k])) {\n            logWarn(`Auction Options ${k} must be of type Array`);\n            return false\n          } else if (!val[k].every(isStr)) {\n            logWarn(`Auction Options ${k} must be only string`);\n            return false\n          }\n        } else if (k === 'suppressStaleRender') {\n          if (!isBoolean(val[k])) {\n            logWarn(`Auction Options ${k} must be of type boolean`);\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n  }\n\n  /**\n   * Returns base config with bidder overrides (if there is currently a bidder)\n   * @private\n   */\n  function _getConfig() {\n    if (currBidder && bidderConfig && isPlainObject(bidderConfig[currBidder])) {\n      let currBidderConfig = bidderConfig[currBidder];\n      const configTopicSet = new Set(Object.keys(config).concat(Object.keys(currBidderConfig)));\n\n      return from(configTopicSet).reduce((memo, topic) => {\n        if (typeof currBidderConfig[topic] === 'undefined') {\n          memo[topic] = config[topic];\n        } else if (typeof config[topic] === 'undefined') {\n          memo[topic] = currBidderConfig[topic];\n        } else {\n          if (isPlainObject(currBidderConfig[topic])) {\n            memo[topic] = mergeDeep({}, config[topic], currBidderConfig[topic]);\n          } else {\n            memo[topic] = currBidderConfig[topic];\n          }\n        }\n        return memo;\n      }, {});\n    }\n    return Object.assign({}, config);\n  }\n\n  function _getRestrictedConfig() {\n    // This causes reading 'ortb2' to throw an error; with prebid 7, that will almost\n    // always be the incorrect way to access FPD configuration (https://github.com/prebid/Prebid.js/issues/7651)\n    // code that needs the ortb2 config should explicitly use `getAnyConfig`\n    // TODO: this is meant as a temporary tripwire to catch inadvertent use of `getConfig('ortb')` as we transition.\n    // It should be removed once the risk of that happening is low enough.\n    const conf = _getConfig();\n    Object.defineProperty(conf, 'ortb2', {\n      get: function () {\n        throw new Error('invalid access to \\'orbt2\\' config - use request parameters instead');\n      }\n    });\n    return conf;\n  }\n\n  const [getAnyConfig, getConfig] = [_getConfig, _getRestrictedConfig].map(accessor => {\n    /*\n     * Returns configuration object if called without parameters,\n     * or single configuration property if given a string matching a configuration\n     * property name.  Allows deep access e.g. getConfig('currency.adServerCurrency')\n     *\n     * If called with callback parameter, or a string and a callback parameter,\n     * subscribes to configuration updates. See `subscribe` function for usage.\n     */\n    return function getConfig(...args) {\n      if (args.length <= 1 && typeof args[0] !== 'function') {\n        const option = args[0];\n        return option ? deepAccess(accessor(), option) : _getConfig();\n      }\n\n      return subscribe(...args);\n    }\n  })\n\n  const [readConfig, readAnyConfig] = [getConfig, getAnyConfig].map(wrapee => {\n    /*\n     * Like getConfig, except that it returns a deepClone of the result.\n     */\n    return function readConfig(...args) {\n      let res = wrapee(...args);\n      if (res && typeof res === 'object') {\n        res = deepClone(res);\n      }\n      return res;\n    }\n  })\n\n  /**\n   * Internal API for modules (such as prebid-server) that might need access to all bidder config\n   */\n  function getBidderConfig() {\n    return bidderConfig;\n  }\n\n  /*\n   * Sets configuration given an object containing key-value pairs and calls\n   * listeners that were added by the `subscribe` function\n   */\n  function setConfig(options) {\n    if (!isPlainObject(options)) {\n      logError('setConfig options must be an object');\n      return;\n    }\n\n    let topics = Object.keys(options);\n    let topicalConfig = {};\n\n    topics.forEach(topic => {\n      let option = options[topic];\n\n      if (isPlainObject(defaults[topic]) && isPlainObject(option)) {\n        option = Object.assign({}, defaults[topic], option);\n      }\n\n      try {\n        topicalConfig[topic] = config[topic] = option;\n      } catch (e) {\n        logWarn(`Cannot set config for property ${topic} : `, e)\n      }\n    });\n\n    callSubscribers(topicalConfig);\n  }\n\n  /**\n   * Sets configuration defaults which setConfig values can be applied on top of\n   * @param {object} options\n   */\n  function setDefaults(options) {\n    if (!isPlainObject(defaults)) {\n      logError('defaults must be an object');\n      return;\n    }\n\n    Object.assign(defaults, options);\n    // Add default values to config as well\n    Object.assign(config, options);\n  }\n\n  /*\n   * Adds a function to a set of listeners that are invoked whenever `setConfig`\n   * is called. The subscribed function will be passed the options object that\n   * was used in the `setConfig` call. Topics can be subscribed to to only get\n   * updates when specific properties are updated by passing a topic string as\n   * the first parameter.\n   *\n   * If `options.init` is true, the listener will be immediately called with the current options.\n   *\n   * Returns an `unsubscribe` function for removing the subscriber from the\n   * set of listeners\n   *\n   * Example use:\n   * // subscribe to all configuration changes\n   * subscribe((config) => console.log('config set:', config));\n   *\n   * // subscribe to only 'logging' changes\n   * subscribe('logging', (config) => console.log('logging set:', config));\n   *\n   * // unsubscribe\n   * const unsubscribe = subscribe(...);\n   * unsubscribe(); // no longer listening\n   *\n   */\n  function subscribe(topic, listener, options = {}) {\n    let callback = listener;\n\n    if (typeof topic !== 'string') {\n      // first param should be callback function in this case,\n      // meaning it gets called for any config change\n      callback = topic;\n      topic = ALL_TOPICS;\n      options = listener || {};\n    }\n\n    if (typeof callback !== 'function') {\n      logError('listener must be a function');\n      return;\n    }\n\n    const nl = { topic, callback };\n    listeners.push(nl);\n\n    if (options.init) {\n      if (topic === ALL_TOPICS) {\n        callback(getConfig());\n      } else {\n        // eslint-disable-next-line standard/no-callback-literal\n        callback({[topic]: getConfig(topic)});\n      }\n    }\n\n    // save and call this function to remove the listener\n    return function unsubscribe() {\n      listeners.splice(listeners.indexOf(nl), 1);\n    };\n  }\n\n  /*\n   * Calls listeners that were added by the `subscribe` function\n   */\n  function callSubscribers(options) {\n    const TOPICS = Object.keys(options);\n\n    // call subscribers of a specific topic, passing only that configuration\n    listeners\n      .filter(listener => includes(TOPICS, listener.topic))\n      .forEach(listener => {\n        listener.callback({ [listener.topic]: options[listener.topic] });\n      });\n\n    // call subscribers that didn't give a topic, passing everything that was set\n    listeners\n      .filter(listener => listener.topic === ALL_TOPICS)\n      .forEach(listener => listener.callback(options));\n  }\n\n  function setBidderConfig(config, mergeFlag = false) {\n    try {\n      check(config);\n      config.bidders.forEach(bidder => {\n        if (!bidderConfig[bidder]) {\n          bidderConfig[bidder] = {};\n        }\n        Object.keys(config.config).forEach(topic => {\n          let option = config.config[topic];\n\n          if (isPlainObject(option)) {\n            const func = mergeFlag ? mergeDeep : Object.assign;\n            bidderConfig[bidder][topic] = func({}, bidderConfig[bidder][topic] || {}, option);\n          } else {\n            bidderConfig[bidder][topic] = option;\n          }\n        });\n      });\n    } catch (e) {\n      logError(e);\n    }\n\n    function check(obj) {\n      if (!isPlainObject(obj)) {\n        throw 'setBidderConfig bidder options must be an object';\n      }\n      if (!(Array.isArray(obj.bidders) && obj.bidders.length)) {\n        throw 'setBidderConfig bidder options must contain a bidders list with at least 1 bidder';\n      }\n      if (!isPlainObject(obj.config)) {\n        throw 'setBidderConfig bidder options must contain a config object';\n      }\n    }\n  }\n\n  function mergeConfig(obj) {\n    if (!isPlainObject(obj)) {\n      logError('mergeConfig input must be an object');\n      return;\n    }\n\n    const mergedConfig = mergeDeep(_getConfig(), obj);\n\n    setConfig({ ...mergedConfig });\n    return mergedConfig;\n  }\n\n  function mergeBidderConfig(obj) {\n    return setBidderConfig(obj, true);\n  }\n\n  /**\n   * Internal functions for core to execute some synchronous code while having an active bidder set.\n   */\n  function runWithBidder(bidder, fn) {\n    currBidder = bidder;\n    try {\n      return fn();\n    } finally {\n      resetBidder();\n    }\n  }\n  function callbackWithBidder(bidder) {\n    return function(cb) {\n      return function(...args) {\n        if (typeof cb === 'function') {\n          return runWithBidder(bidder, cb.bind(this, ...args))\n        } else {\n          logWarn('config.callbackWithBidder callback is not a function');\n        }\n      }\n    }\n  }\n\n  function getCurrentBidder() {\n    return currBidder;\n  }\n\n  function resetBidder() {\n    currBidder = null;\n  }\n\n  resetConfig();\n\n  return {\n    getCurrentBidder,\n    resetBidder,\n    getConfig,\n    getAnyConfig,\n    readConfig,\n    readAnyConfig,\n    setConfig,\n    mergeConfig,\n    setDefaults,\n    resetConfig,\n    runWithBidder,\n    callbackWithBidder,\n    setBidderConfig,\n    getBidderConfig,\n    mergeBidderConfig,\n  };\n}\n\n/**\n * Set a `cache.url` if we should use prebid-cache to store video bids before adding bids to the auction.\n * This must be set if you want to use the dfpAdServerVideo module.\n */\nexport const config = newConfig();\n","import {find} from './polyfill.js';\nimport { isEmpty, logWarn } from './utils.js';\nimport { config } from './config.js';\n\nconst _defaultPrecision = 2;\nconst _lgPriceConfig = {\n  'buckets': [{\n    'max': 5,\n    'increment': 0.5\n  }]\n};\nconst _mgPriceConfig = {\n  'buckets': [{\n    'max': 20,\n    'increment': 0.1\n  }]\n};\nconst _hgPriceConfig = {\n  'buckets': [{\n    'max': 20,\n    'increment': 0.01\n  }]\n};\nconst _densePriceConfig = {\n  'buckets': [{\n    'max': 3,\n    'increment': 0.01\n  },\n  {\n    'max': 8,\n    'increment': 0.05\n  },\n  {\n    'max': 20,\n    'increment': 0.5\n  }]\n};\nconst _autoPriceConfig = {\n  'buckets': [{\n    'max': 5,\n    'increment': 0.05\n  },\n  {\n    'max': 10,\n    'increment': 0.1\n  },\n  {\n    'max': 20,\n    'increment': 0.5\n  }]\n};\n\nfunction getPriceBucketString(cpm, customConfig, granularityMultiplier = 1) {\n  let cpmFloat = parseFloat(cpm);\n  if (isNaN(cpmFloat)) {\n    cpmFloat = '';\n  }\n\n  return {\n    low: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _lgPriceConfig, granularityMultiplier),\n    med: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _mgPriceConfig, granularityMultiplier),\n    high: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _hgPriceConfig, granularityMultiplier),\n    auto: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _autoPriceConfig, granularityMultiplier),\n    dense: (cpmFloat === '') ? '' : getCpmStringValue(cpm, _densePriceConfig, granularityMultiplier),\n    custom: (cpmFloat === '') ? '' : getCpmStringValue(cpm, customConfig, granularityMultiplier)\n  };\n}\n\nfunction getCpmStringValue(cpm, config, granularityMultiplier) {\n  let cpmStr = '';\n  if (!isValidPriceConfig(config)) {\n    return cpmStr;\n  }\n  const cap = config.buckets.reduce((prev, curr) => {\n    if (prev.max > curr.max) {\n      return prev;\n    }\n    return curr;\n  }, {\n    'max': 0,\n  });\n\n  let bucketFloor = 0;\n  let bucket = find(config.buckets, bucket => {\n    if (cpm > cap.max * granularityMultiplier) {\n      // cpm exceeds cap, just return the cap.\n      let precision = bucket.precision;\n      if (typeof precision === 'undefined') {\n        precision = _defaultPrecision;\n      }\n      cpmStr = (bucket.max * granularityMultiplier).toFixed(precision);\n    } else if (cpm <= bucket.max * granularityMultiplier && cpm >= bucketFloor * granularityMultiplier) {\n      bucket.min = bucketFloor;\n      return bucket;\n    } else {\n      bucketFloor = bucket.max;\n    }\n  });\n  if (bucket) {\n    cpmStr = getCpmTarget(cpm, bucket, granularityMultiplier);\n  }\n  return cpmStr;\n}\n\nfunction isValidPriceConfig(config) {\n  if (isEmpty(config) || !config.buckets || !Array.isArray(config.buckets)) {\n    return false;\n  }\n  let isValid = true;\n  config.buckets.forEach(bucket => {\n    if (!bucket.max || !bucket.increment) {\n      isValid = false;\n    }\n  });\n  return isValid;\n}\n\nfunction getCpmTarget(cpm, bucket, granularityMultiplier) {\n  const precision = typeof bucket.precision !== 'undefined' ? bucket.precision : _defaultPrecision;\n  const increment = bucket.increment * granularityMultiplier;\n  const bucketMin = bucket.min * granularityMultiplier;\n  let roundingFunction = Math.floor;\n  let customRoundingFunction = config.getConfig('cpmRoundingFunction');\n  if (typeof customRoundingFunction === 'function') {\n    roundingFunction = customRoundingFunction;\n  }\n\n  // start increments at the bucket min and then add bucket min back to arrive at the correct rounding\n  // note - we're padding the values to avoid using decimals in the math prior to flooring\n  // this is done as JS can return values slightly below the expected mark which would skew the price bucket target\n  //   (eg 4.01 / 0.01 = 400.99999999999994)\n  // min precison should be 2 to move decimal place over.\n  let pow = Math.pow(10, precision + 2);\n  let cpmToRound = ((cpm * pow) - (bucketMin * pow)) / (increment * pow);\n  let cpmTarget;\n  let invalidRounding;\n  // It is likely that we will be passed {cpmRoundingFunction: roundingFunction()}\n  // rather than the expected {cpmRoundingFunction: roundingFunction}. Default back to floor in that case\n  try {\n    cpmTarget = (roundingFunction(cpmToRound) * increment) + bucketMin;\n  } catch (err) {\n    invalidRounding = true;\n  }\n  if (invalidRounding || typeof cpmTarget !== 'number') {\n    logWarn('Invalid rounding function passed in config');\n    cpmTarget = (Math.floor(cpmToRound) * increment) + bucketMin;\n  }\n  // force to 10 decimal places to deal with imprecise decimal/binary conversions\n  //    (for example 0.1 * 3 = 0.30000000000000004)\n\n  cpmTarget = Number(cpmTarget.toFixed(10));\n  return cpmTarget.toFixed(precision);\n}\n\nexport { getPriceBucketString, isValidPriceConfig };\n","// These stubs are here to help transition away from core-js polyfills for browsers we are no longer supporting.\n// You should not need these for new code; use stock JS instead!\n\nexport function includes(target, elem, start) {\n  return (target && target.includes(elem, start)) || false;\n}\n\nexport function arrayFrom() {\n  return Array.from.apply(Array, arguments);\n}\n\nexport function find(arr, pred, thisArg) {\n  return arr && arr.find(pred, thisArg);\n}\n\nexport function findIndex(arr, pred, thisArg) {\n  return arr && arr.findIndex(pred, thisArg);\n}\n","// if $$PREBID_GLOBAL$$ already exists in global document scope, use it, if not, create the object\n// global defination should happen BEFORE imports to avoid global undefined errors.\n/* global $$DEFINE_PREBID_GLOBAL$$ */\nconst scope = !$$DEFINE_PREBID_GLOBAL$$ ? {} : window;\nconst global = scope.$$PREBID_GLOBAL$$ = scope.$$PREBID_GLOBAL$$ || {};\nglobal.cmd = global.cmd || [];\nglobal.que = global.que || [];\n\n// create a pbjs global pointer\nif (scope === window) {\n  scope._pbjsGlobals = scope._pbjsGlobals || [];\n  scope._pbjsGlobals.push('$$PREBID_GLOBAL$$');\n}\n\nexport function getGlobal() {\n  return global;\n}\n\nexport function registerModule(name) {\n  global.installedModules.push(name);\n}\n","import {config} from './config.js';\nimport clone from 'just-clone';\nimport {includes} from './polyfill.js';\nimport CONSTANTS from './constants.json';\nimport {GreedyPromise} from './utils/promise.js';\nimport {getGlobal} from './prebidGlobal.js';\n\nexport { default as deepAccess } from 'dlv/index.js';\nexport { dset as deepSetValue } from 'dset';\n\nvar tStr = 'String';\nvar tFn = 'Function';\nvar tNumb = 'Number';\nvar tObject = 'Object';\nvar tBoolean = 'Boolean';\nvar toString = Object.prototype.toString;\nlet consoleExists = Boolean(window.console);\nlet consoleLogExists = Boolean(consoleExists && window.console.log);\nlet consoleInfoExists = Boolean(consoleExists && window.console.info);\nlet consoleWarnExists = Boolean(consoleExists && window.console.warn);\nlet consoleErrorExists = Boolean(consoleExists && window.console.error);\n\nlet eventEmitter;\n\nconst pbjsInstance = getGlobal();\n\nexport function _setEventEmitter(emitFn) {\n  // called from events.js - this hoop is to avoid circular imports\n  eventEmitter = emitFn;\n}\n\nfunction emitEvent(...args) {\n  if (eventEmitter != null) {\n    eventEmitter(...args);\n  }\n}\n\n// this allows stubbing of utility functions that are used internally by other utility functions\nexport const internal = {\n  checkCookieSupport,\n  createTrackPixelIframeHtml,\n  getWindowSelf,\n  getWindowTop,\n  getWindowLocation,\n  insertUserSyncIframe,\n  insertElement,\n  isFn,\n  triggerPixel,\n  logError,\n  logWarn,\n  logMessage,\n  logInfo,\n  parseQS,\n  formatQS,\n  deepEqual\n};\n\nlet prebidInternal = {};\n/**\n * Returns object that is used as internal prebid namespace\n */\nexport function getPrebidInternal() {\n  return prebidInternal;\n}\n\n/* utility method to get incremental integer starting from 1 */\nvar getIncrementalInteger = (function () {\n  var count = 0;\n  return function () {\n    count++;\n    return count;\n  };\n})();\n\n// generate a random string (to be used as a dynamic JSONP callback)\nexport function getUniqueIdentifierStr() {\n  return getIncrementalInteger() + Math.random().toString(16).substr(2);\n}\n\n/**\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f,\n * and y is replaced with a random hexadecimal digit from 8 to b.\n * https://gist.github.com/jed/982883 via node-uuid\n */\nexport function generateUUID(placeholder) {\n  return placeholder\n    ? (placeholder ^ _getRandomData() >> placeholder / 4).toString(16)\n    : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, generateUUID);\n}\n\n/**\n * Returns random data using the Crypto API if available and Math.random if not\n * Method is from https://gist.github.com/jed/982883 like generateUUID, direct link https://gist.github.com/jed/982883#gistcomment-45104\n */\nfunction _getRandomData() {\n  if (window && window.crypto && window.crypto.getRandomValues) {\n    return crypto.getRandomValues(new Uint8Array(1))[0] % 16;\n  } else {\n    return Math.random() * 16;\n  }\n}\n\nexport function getBidIdParameter(key, paramsObj) {\n  return paramsObj?.[key] || '';\n}\n\n// parse a query string object passed in bid params\n// bid params should be an object such as {key: \"value\", key1 : \"value1\"}\n// aliases to formatQS\nexport function parseQueryStringParameters(queryObj) {\n  let result = '';\n  for (var k in queryObj) {\n    if (queryObj.hasOwnProperty(k)) { result += k + '=' + encodeURIComponent(queryObj[k]) + '&'; }\n  }\n  result = result.replace(/&$/, '');\n  return result;\n}\n\n// transform an AdServer targeting bids into a query string to send to the adserver\nexport function transformAdServerTargetingObj(targeting) {\n  // we expect to receive targeting for a single slot at a time\n  if (targeting && Object.getOwnPropertyNames(targeting).length > 0) {\n    return Object.keys(targeting)\n      .map(key => `${key}=${encodeURIComponent(targeting[key])}`).join('&');\n  } else {\n    return '';\n  }\n}\n\n/**\n * Parse a GPT-Style general size Array like `[[300, 250]]` or `\"300x250,970x90\"` into an array of sizes `[\"300x250\"]` or '['300x250', '970x90']'\n * @param  {(Array.<number[]>|Array.<number>)} sizeObj Input array or double array [300,250] or [[300,250], [728,90]]\n * @return {Array.<string>}  Array of strings like `[\"300x250\"]` or `[\"300x250\", \"728x90\"]`\n */\nexport function parseSizesInput(sizeObj) {\n  if (typeof sizeObj === 'string') {\n    // multiple sizes will be comma-separated\n    return sizeObj.split(',').filter(sz => sz.match(/^(\\d)+x(\\d)+$/i))\n  } else if (typeof sizeObj === 'object') {\n    if (sizeObj.length === 2 && typeof sizeObj[0] === 'number' && typeof sizeObj[1] === 'number') {\n      return [parseGPTSingleSizeArray(sizeObj)];\n    } else {\n      return sizeObj.map(parseGPTSingleSizeArray)\n    }\n  }\n  return [];\n}\n\n// Parse a GPT style single size array, (i.e [300, 250])\n// into an AppNexus style string, (i.e. 300x250)\nexport function parseGPTSingleSizeArray(singleSize) {\n  if (isValidGPTSingleSize(singleSize)) {\n    return singleSize[0] + 'x' + singleSize[1];\n  }\n}\n\n// Parse a GPT style single size array, (i.e [300, 250])\n// into OpenRTB-compatible (imp.banner.w/h, imp.banner.format.w/h, imp.video.w/h) object(i.e. {w:300, h:250})\nexport function parseGPTSingleSizeArrayToRtbSize(singleSize) {\n  if (isValidGPTSingleSize(singleSize)) {\n    return {w: singleSize[0], h: singleSize[1]};\n  }\n}\n\nfunction isValidGPTSingleSize(singleSize) {\n  // if we aren't exactly 2 items in this array, it is invalid\n  return isArray(singleSize) && singleSize.length === 2 && (!isNaN(singleSize[0]) && !isNaN(singleSize[1]));\n}\n\nexport function getWindowTop() {\n  return window.top;\n}\n\nexport function getWindowSelf() {\n  return window.self;\n}\n\nexport function getWindowLocation() {\n  return window.location;\n}\n\n/**\n * Wrappers to console.(log | info | warn | error). Takes N arguments, the same as the native methods\n */\nexport function logMessage() {\n  if (debugTurnedOn() && consoleLogExists) {\n    // eslint-disable-next-line no-console\n    console.log.apply(console, decorateLog(arguments, 'MESSAGE:'));\n  }\n}\n\nexport function logInfo() {\n  if (debugTurnedOn() && consoleInfoExists) {\n    // eslint-disable-next-line no-console\n    console.info.apply(console, decorateLog(arguments, 'INFO:'));\n  }\n}\n\nexport function logWarn() {\n  if (debugTurnedOn() && consoleWarnExists) {\n    // eslint-disable-next-line no-console\n    console.warn.apply(console, decorateLog(arguments, 'WARNING:'));\n  }\n  emitEvent(CONSTANTS.EVENTS.AUCTION_DEBUG, {type: 'WARNING', arguments: arguments});\n}\n\nexport function logError() {\n  if (debugTurnedOn() && consoleErrorExists) {\n    // eslint-disable-next-line no-console\n    console.error.apply(console, decorateLog(arguments, 'ERROR:'));\n  }\n  emitEvent(CONSTANTS.EVENTS.AUCTION_DEBUG, {type: 'ERROR', arguments: arguments});\n}\n\nexport function prefixLog(prefix) {\n  function decorate(fn) {\n    return function (...args) {\n      fn(prefix, ...args);\n    }\n  }\n  return {\n    logError: decorate(logError),\n    logWarn: decorate(logWarn),\n    logMessage: decorate(logMessage),\n    logInfo: decorate(logInfo),\n  }\n}\n\nfunction decorateLog(args, prefix) {\n  args = [].slice.call(args);\n  let bidder = config.getCurrentBidder();\n\n  prefix && args.unshift(prefix);\n  if (bidder) {\n    args.unshift(label('#aaa'));\n  }\n  args.unshift(label('#3b88c3'));\n  args.unshift('%cPrebid' + (bidder ? `%c${bidder}` : ''));\n  return args;\n\n  function label(color) {\n    return `display: inline-block; color: #fff; background: ${color}; padding: 1px 4px; border-radius: 3px;`\n  }\n}\n\nexport function hasConsoleLogger() {\n  return consoleLogExists;\n}\n\nexport function debugTurnedOn() {\n  return !!config.getConfig('debug');\n}\n\nexport const createIframe = (() => {\n  const DEFAULTS = {\n    border: '0px',\n    hspace: '0',\n    vspace: '0',\n    marginWidth: '0',\n    marginHeight: '0',\n    scrolling: 'no',\n    frameBorder: '0',\n    allowtransparency: 'true'\n  }\n  return (doc, attrs, style = {}) => {\n    const f = doc.createElement('iframe');\n    Object.assign(f, Object.assign({}, DEFAULTS, attrs));\n    Object.assign(f.style, style);\n    return f;\n  }\n})();\n\nexport function createInvisibleIframe() {\n  return createIframe(document, {\n    id: getUniqueIdentifierStr(),\n    width: 0,\n    height: 0,\n    src: 'about:blank'\n  }, {\n    display: 'none',\n    height: '0px',\n    width: '0px',\n    border: '0px'\n  });\n}\n\n/*\n *   Check if a given parameter name exists in query string\n *   and if it does return the value\n */\nexport function getParameterByName(name) {\n  return parseQS(getWindowLocation().search)[name] || '';\n}\n\n/**\n * Return if the object is of the\n * given type.\n * @param {*} object to test\n * @param {String} _t type string (e.g., Array)\n * @return {Boolean} if object is of type _t\n */\nexport function isA(object, _t) {\n  return toString.call(object) === '[object ' + _t + ']';\n}\n\nexport function isFn(object) {\n  return isA(object, tFn);\n}\n\nexport function isStr(object) {\n  return isA(object, tStr);\n}\n\nexport const isArray = Array.isArray.bind(Array);\n\nexport function isNumber(object) {\n  return isA(object, tNumb);\n}\n\nexport function isPlainObject(object) {\n  return isA(object, tObject);\n}\n\nexport function isBoolean(object) {\n  return isA(object, tBoolean);\n}\n\n/**\n * Return if the object is \"empty\";\n * this includes falsey, no keys, or no items at indices\n * @param {*} object object to test\n * @return {Boolean} if object is empty\n */\nexport function isEmpty(object) {\n  if (!object) return true;\n  if (isArray(object) || isStr(object)) {\n    return !(object.length > 0);\n  }\n  return Object.keys(object).length <= 0;\n}\n\n/**\n * Return if string is empty, null, or undefined\n * @param str string to test\n * @returns {boolean} if string is empty\n */\nexport function isEmptyStr(str) {\n  return isStr(str) && (!str || str.length === 0);\n}\n\n/**\n * Iterate object with the function\n * falls back to es5 `forEach`\n * @param {Array|Object} object\n * @param {Function(value, key, object)} fn\n */\nexport function _each(object, fn) {\n  if (isFn(object?.forEach)) return object.forEach(fn, this);\n  Object.entries(object || {}).forEach(([k, v]) => fn.call(this, v, k));\n}\n\nexport function contains(a, obj) {\n  return isFn(a?.includes) && a.includes(obj);\n}\n\n/**\n * Map an array or object into another array\n * given a function\n * @param {Array|Object} object\n * @param {Function(value, key, object)} callback\n * @return {Array}\n */\nexport function _map(object, callback) {\n  if (isFn(object?.map)) return object.map(callback);\n  return Object.entries(object || {}).map(([k, v]) => callback(v, k, object))\n}\n\n/*\n* Inserts an element(elm) as targets child, by default as first child\n* @param {HTMLElement} elm\n* @param {HTMLElement} [doc]\n* @param {HTMLElement} [target]\n* @param {Boolean} [asLastChildChild]\n* @return {HTML Element}\n*/\nexport function insertElement(elm, doc, target, asLastChildChild) {\n  doc = doc || document;\n  let parentEl;\n  if (target) {\n    parentEl = doc.getElementsByTagName(target);\n  } else {\n    parentEl = doc.getElementsByTagName('head');\n  }\n  try {\n    parentEl = parentEl.length ? parentEl : doc.getElementsByTagName('body');\n    if (parentEl.length) {\n      parentEl = parentEl[0];\n      let insertBeforeEl = asLastChildChild ? null : parentEl.firstChild;\n      return parentEl.insertBefore(elm, insertBeforeEl);\n    }\n  } catch (e) {}\n}\n\n/**\n * Returns a promise that completes when the given element triggers a 'load' or 'error' DOM event, or when\n * `timeout` milliseconds have elapsed.\n *\n * @param {HTMLElement} element\n * @param {Number} [timeout]\n * @returns {Promise}\n */\nexport function waitForElementToLoad(element, timeout) {\n  let timer = null;\n  return new GreedyPromise((resolve) => {\n    const onLoad = function() {\n      element.removeEventListener('load', onLoad);\n      element.removeEventListener('error', onLoad);\n      if (timer != null) {\n        window.clearTimeout(timer);\n      }\n      resolve();\n    };\n    element.addEventListener('load', onLoad);\n    element.addEventListener('error', onLoad);\n    if (timeout != null) {\n      timer = window.setTimeout(onLoad, timeout);\n    }\n  });\n}\n\n/**\n * Inserts an image pixel with the specified `url` for cookie sync\n * @param {string} url URL string of the image pixel to load\n * @param  {function} [done] an optional exit callback, used when this usersync pixel is added during an async process\n * @param  {Number} [timeout] an optional timeout in milliseconds for the image to load before calling `done`\n */\nexport function triggerPixel(url, done, timeout) {\n  const img = new Image();\n  if (done && internal.isFn(done)) {\n    waitForElementToLoad(img, timeout).then(done);\n  }\n  img.src = url;\n}\n\nexport function callBurl({ source, burl }) {\n  if (source === CONSTANTS.S2S.SRC && burl) {\n    internal.triggerPixel(burl);\n  }\n}\n\n/**\n * Inserts an empty iframe with the specified `html`, primarily used for tracking purposes\n * (though could be for other purposes)\n * @param {string} htmlCode snippet of HTML code used for tracking purposes\n */\nexport function insertHtmlIntoIframe(htmlCode) {\n  if (!htmlCode) {\n    return;\n  }\n  const iframe = createInvisibleIframe();\n  internal.insertElement(iframe, document, 'body');\n\n  ((doc) => {\n    doc.open();\n    doc.write(htmlCode);\n    doc.close();\n  })(iframe.contentWindow.document);\n}\n\n/**\n * Inserts empty iframe with the specified `url` for cookie sync\n * @param  {string} url URL to be requested\n * @param  {string} encodeUri boolean if URL should be encoded before inserted. Defaults to true\n * @param  {function} [done] an optional exit callback, used when this usersync pixel is added during an async process\n * @param  {Number} [timeout] an optional timeout in milliseconds for the iframe to load before calling `done`\n */\nexport function insertUserSyncIframe(url, done, timeout) {\n  let iframeHtml = internal.createTrackPixelIframeHtml(url, false, 'allow-scripts allow-same-origin');\n  let div = document.createElement('div');\n  div.innerHTML = iframeHtml;\n  let iframe = div.firstChild;\n  if (done && internal.isFn(done)) {\n    waitForElementToLoad(iframe, timeout).then(done);\n  }\n  internal.insertElement(iframe, document, 'html', true);\n}\n\n/**\n * Creates a snippet of HTML that retrieves the specified `url`\n * @param  {string} url URL to be requested\n * @return {string}     HTML snippet that contains the img src = set to `url`\n */\nexport function createTrackPixelHtml(url) {\n  if (!url) {\n    return '';\n  }\n\n  let escapedUrl = encodeURI(url);\n  let img = '<div style=\"position:absolute;left:0px;top:0px;visibility:hidden;\">';\n  img += '<img src=\"' + escapedUrl + '\"></div>';\n  return img;\n};\n\n/**\n * Creates a snippet of Iframe HTML that retrieves the specified `url`\n * @param  {string} url plain URL to be requested\n * @param  {string} encodeUri boolean if URL should be encoded before inserted. Defaults to true\n * @param  {string} sandbox string if provided the sandbox attribute will be included with the given value\n * @return {string}     HTML snippet that contains the iframe src = set to `url`\n */\nexport function createTrackPixelIframeHtml(url, encodeUri = true, sandbox = '') {\n  if (!url) {\n    return '';\n  }\n  if (encodeUri) {\n    url = encodeURI(url);\n  }\n  if (sandbox) {\n    sandbox = `sandbox=\"${sandbox}\"`;\n  }\n\n  return `<iframe ${sandbox} id=\"${getUniqueIdentifierStr()}\"\n      frameborder=\"0\"\n      allowtransparency=\"true\"\n      marginheight=\"0\" marginwidth=\"0\"\n      width=\"0\" hspace=\"0\" vspace=\"0\" height=\"0\"\n      style=\"height:0px;width:0px;display:none;\"\n      scrolling=\"no\"\n      src=\"${url}\">\n    </iframe>`;\n}\n\nexport function uniques(value, index, arry) {\n  return arry.indexOf(value) === index;\n}\n\nexport function flatten(a, b) {\n  return a.concat(b);\n}\n\nexport function getBidRequest(id, bidderRequests) {\n  if (!id) {\n    return;\n  }\n  return bidderRequests.flatMap(br => br.bids)\n    .find(bid => ['bidId', 'adId', 'bid_id'].some(prop => bid[prop] === id))\n}\n\nexport function getValue(obj, key) {\n  return obj[key];\n}\n\nexport function getBidderCodes(adUnits = pbjsInstance.adUnits) {\n  // this could memoize adUnits\n  return adUnits.map(unit => unit.bids.map(bid => bid.bidder)\n    .reduce(flatten, [])).reduce(flatten, []).filter((bidder) => typeof bidder !== 'undefined').filter(uniques);\n}\n\nexport function isGptPubadsDefined() {\n  if (window.googletag && isFn(window.googletag.pubads) && isFn(window.googletag.pubads().getSlots)) {\n    return true;\n  }\n}\n\nexport function isApnGetTagDefined() {\n  if (window.apntag && isFn(window.apntag.getTag)) {\n    return true;\n  }\n}\n\n/**\n * Fisher–Yates shuffle\n * http://stackoverflow.com/a/6274398\n * https://bost.ocks.org/mike/shuffle/\n * istanbul ignore next\n */\nexport function shuffle(array) {\n  let counter = array.length;\n\n  // while there are elements in the array\n  while (counter > 0) {\n    // pick a random index\n    let index = Math.floor(Math.random() * counter);\n\n    // decrease counter by 1\n    counter--;\n\n    // and swap the last element with it\n    let temp = array[counter];\n    array[counter] = array[index];\n    array[index] = temp;\n  }\n\n  return array;\n}\n\nexport function deepClone(obj) {\n  return clone(obj);\n}\n\nexport function inIframe() {\n  try {\n    return internal.getWindowSelf() !== internal.getWindowTop();\n  } catch (e) {\n    return true;\n  }\n}\n\nexport function isSafariBrowser() {\n  return /^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent);\n}\n\nexport function replaceMacros(str, subs) {\n  if (!str) return;\n  return Object.entries(subs).reduce((str, [key, val]) => {\n    return str.replace(new RegExp('\\\\$\\\\{' + key + '\\\\}', 'g'), val || '');\n  }, str);\n}\n\nexport function replaceAuctionPrice(str, cpm) {\n  return replaceMacros(str, {AUCTION_PRICE: cpm})\n}\n\nexport function replaceClickThrough(str, clicktag) {\n  if (!str || !clicktag || typeof clicktag !== 'string') return;\n  return str.replace(/\\${CLICKTHROUGH}/g, clicktag);\n}\n\nexport function timestamp() {\n  return new Date().getTime();\n}\n\n/**\n * The returned value represents the time elapsed since the time origin. @see https://developer.mozilla.org/en-US/docs/Web/API/Performance/now\n * @returns {number}\n */\nexport function getPerformanceNow() {\n  return (window.performance && window.performance.now && window.performance.now()) || 0;\n}\n\n/**\n * When the deviceAccess flag config option is false, no cookies should be read or set\n * @returns {boolean}\n */\nexport function hasDeviceAccess() {\n  return config.getConfig('deviceAccess') !== false;\n}\n\n/**\n * @returns {(boolean|undefined)}\n */\nexport function checkCookieSupport() {\n  if (window.navigator.cookieEnabled || !!document.cookie.length) {\n    return true;\n  }\n}\n\n/**\n * Given a function, return a function which only executes the original after\n * it's been called numRequiredCalls times.\n *\n * Note that the arguments from the previous calls will *not* be forwarded to the original function.\n * Only the final call's arguments matter.\n *\n * @param {function} func The function which should be executed, once the returned function has been executed\n *   numRequiredCalls times.\n * @param {number} numRequiredCalls The number of times which the returned function needs to be called before\n *   func is.\n */\nexport function delayExecution(func, numRequiredCalls) {\n  if (numRequiredCalls < 1) {\n    throw new Error(`numRequiredCalls must be a positive number. Got ${numRequiredCalls}`);\n  }\n  let numCalls = 0;\n  return function () {\n    numCalls++;\n    if (numCalls === numRequiredCalls) {\n      func.apply(this, arguments);\n    }\n  }\n}\n\n/**\n * https://stackoverflow.com/a/34890276/428704\n * @export\n * @param {Array} xs\n * @param {string} key\n * @returns {Object} {${key_value}: ${groupByArray}, key_value: {groupByArray}}\n */\nexport function groupBy(xs, key) {\n  return xs.reduce(function(rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n}\n\n/**\n * Build an object consisting of only defined parameters to avoid creating an\n * object with defined keys and undefined values.\n * @param {Object} object The object to pick defined params out of\n * @param {string[]} params An array of strings representing properties to look for in the object\n * @returns {Object} An object containing all the specified values that are defined\n */\nexport function getDefinedParams(object, params) {\n  return params\n    .filter(param => object[param])\n    .reduce((bid, param) => Object.assign(bid, { [param]: object[param] }), {});\n}\n\n/**\n * @typedef {Object} MediaTypes\n * @property {Object} banner banner configuration\n * @property {Object} native native configuration\n * @property {Object} video video configuration\n */\n\n/**\n * Validates an adunit's `mediaTypes` parameter\n * @param {MediaTypes} mediaTypes mediaTypes parameter to validate\n * @return {boolean} If object is valid\n */\nexport function isValidMediaTypes(mediaTypes) {\n  const SUPPORTED_MEDIA_TYPES = ['banner', 'native', 'video'];\n  const SUPPORTED_STREAM_TYPES = ['instream', 'outstream', 'adpod'];\n\n  const types = Object.keys(mediaTypes);\n\n  if (!types.every(type => includes(SUPPORTED_MEDIA_TYPES, type))) {\n    return false;\n  }\n\n  if (FEATURES.VIDEO && mediaTypes.video && mediaTypes.video.context) {\n    return includes(SUPPORTED_STREAM_TYPES, mediaTypes.video.context);\n  }\n\n  return true;\n}\n\n/**\n * Returns user configured bidder params from adunit\n * @param {Object} adUnits\n * @param {string} adUnitCode code\n * @param {string} bidder code\n * @return {Array} user configured param for the given bidder adunit configuration\n */\nexport function getUserConfiguredParams(adUnits, adUnitCode, bidder) {\n  return adUnits\n    .filter(adUnit => adUnit.code === adUnitCode)\n    .flatMap((adUnit) => adUnit.bids)\n    .filter((bidderData) => bidderData.bidder === bidder)\n    .map((bidderData) => bidderData.params || {});\n}\n\n/**\n * Returns Do Not Track state\n */\nexport function getDNT() {\n  return navigator.doNotTrack === '1' || window.doNotTrack === '1' || navigator.msDoNotTrack === '1' || navigator.doNotTrack === 'yes';\n}\n\nexport const compareCodeAndSlot = (slot, adUnitCode) => slot.getAdUnitPath() === adUnitCode || slot.getSlotElementId() === adUnitCode;\n\n/**\n * Returns filter function to match adUnitCode in slot\n * @param {Object} slot GoogleTag slot\n * @return {function} filter function\n */\nexport function isAdUnitCodeMatchingSlot(slot) {\n  return (adUnitCode) => compareCodeAndSlot(slot, adUnitCode);\n}\n\n/**\n * Constructs warning message for when unsupported bidders are dropped from an adunit\n * @param {Object} adUnit ad unit from which the bidder is being dropped\n * @param {string} bidder bidder code that is not compatible with the adUnit\n * @return {string} warning message to display when condition is met\n */\nexport function unsupportedBidderMessage(adUnit, bidder) {\n  const mediaType = Object.keys(adUnit.mediaTypes || {'banner': 'banner'}).join(', ');\n\n  return `\n    ${adUnit.code} is a ${mediaType} ad unit\n    containing bidders that don't support ${mediaType}: ${bidder}.\n    This bidder won't fetch demand.\n  `;\n}\n\n/**\n * Checks input is integer or not\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n * @param {*} value\n */\nexport const isInteger = Number.isInteger.bind(Number);\n\n/**\n * Returns a new object with undefined properties removed from given object\n * @param obj the object to clean\n */\nexport function cleanObj(obj) {\n  return Object.fromEntries(Object.entries(obj).filter(([_, v]) => typeof v !== 'undefined'))\n}\n\n/**\n * Create a new object with selected properties.  Also allows property renaming and transform functions.\n * @param obj the original object\n * @param properties An array of desired properties\n */\nexport function pick(obj, properties) {\n  if (typeof obj !== 'object') {\n    return {};\n  }\n  return properties.reduce((newObj, prop, i) => {\n    if (typeof prop === 'function') {\n      return newObj;\n    }\n\n    let newProp = prop;\n    let match = prop.match(/^(.+?)\\sas\\s(.+?)$/i);\n\n    if (match) {\n      prop = match[1];\n      newProp = match[2];\n    }\n\n    let value = obj[prop];\n    if (typeof properties[i + 1] === 'function') {\n      value = properties[i + 1](value, newObj);\n    }\n    if (typeof value !== 'undefined') {\n      newObj[newProp] = value;\n    }\n\n    return newObj;\n  }, {});\n}\n\nexport function isArrayOfNums(val, size) {\n  return (isArray(val)) && ((size) ? val.length === size : true) && (val.every(v => isInteger(v)));\n}\n\nexport function parseQS(query) {\n  return !query ? {} : query\n    .replace(/^\\?/, '')\n    .split('&')\n    .reduce((acc, criteria) => {\n      let [k, v] = criteria.split('=');\n      if (/\\[\\]$/.test(k)) {\n        k = k.replace('[]', '');\n        acc[k] = acc[k] || [];\n        acc[k].push(v);\n      } else {\n        acc[k] = v || '';\n      }\n      return acc;\n    }, {});\n}\n\nexport function formatQS(query) {\n  return Object\n    .keys(query)\n    .map(k => Array.isArray(query[k])\n      ? query[k].map(v => `${k}[]=${v}`).join('&')\n      : `${k}=${query[k]}`)\n    .join('&');\n}\n\nexport function parseUrl(url, options) {\n  let parsed = document.createElement('a');\n  if (options && 'noDecodeWholeURL' in options && options.noDecodeWholeURL) {\n    parsed.href = url;\n  } else {\n    parsed.href = decodeURIComponent(url);\n  }\n  // in window.location 'search' is string, not object\n  let qsAsString = (options && 'decodeSearchAsString' in options && options.decodeSearchAsString);\n  return {\n    href: parsed.href,\n    protocol: (parsed.protocol || '').replace(/:$/, ''),\n    hostname: parsed.hostname,\n    port: +parsed.port,\n    pathname: parsed.pathname.replace(/^(?!\\/)/, '/'),\n    search: (qsAsString) ? parsed.search : internal.parseQS(parsed.search || ''),\n    hash: (parsed.hash || '').replace(/^#/, ''),\n    host: parsed.host || window.location.host\n  };\n}\n\nexport function buildUrl(obj) {\n  return (obj.protocol || 'http') + '://' +\n    (obj.host ||\n      obj.hostname + (obj.port ? `:${obj.port}` : '')) +\n    (obj.pathname || '') +\n    (obj.search ? `?${internal.formatQS(obj.search || '')}` : '') +\n    (obj.hash ? `#${obj.hash}` : '');\n}\n\n/**\n * This function deeply compares two objects checking for their equivalence.\n * @param {Object} obj1\n * @param {Object} obj2\n * @param checkTypes {boolean} if set, two objects with identical properties but different constructors will *not*\n * be considered equivalent.\n * @returns {boolean}\n */\nexport function deepEqual(obj1, obj2, {checkTypes = false} = {}) {\n  if (obj1 === obj2) return true;\n  else if (\n    (typeof obj1 === 'object' && obj1 !== null) &&\n    (typeof obj2 === 'object' && obj2 !== null) &&\n    (!checkTypes || (obj1.constructor === obj2.constructor))\n  ) {\n    const props1 = Object.keys(obj1);\n    if (props1.length !== Object.keys(obj2).length) return false;\n    for (let prop of props1) {\n      if (obj2.hasOwnProperty(prop)) {\n        if (!deepEqual(obj1[prop], obj2[prop], {checkTypes})) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function mergeDeep(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isPlainObject(target) && isPlainObject(source)) {\n    for (const key in source) {\n      if (isPlainObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key], source[key]);\n      } else if (isArray(source[key])) {\n        if (!target[key]) {\n          Object.assign(target, { [key]: [...source[key]] });\n        } else if (isArray(target[key])) {\n          source[key].forEach(obj => {\n            let addItFlag = 1;\n            for (let i = 0; i < target[key].length; i++) {\n              if (deepEqual(target[key][i], obj)) {\n                addItFlag = 0;\n                break;\n              }\n            }\n            if (addItFlag) {\n              target[key].push(obj);\n            }\n          });\n        }\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n\n/**\n * returns a hash of a string using a fast algorithm\n * source: https://stackoverflow.com/a/52171480/845390\n * @param str\n * @param seed (optional)\n * @returns {string}\n */\nexport function cyrb53Hash(str, seed = 0) {\n  // IE doesn't support imul\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/imul#Polyfill\n  let imul = function(opA, opB) {\n    if (isFn(Math.imul)) {\n      return Math.imul(opA, opB);\n    } else {\n      opB |= 0; // ensure that opB is an integer. opA will automatically be coerced.\n      // floating points give us 53 bits of precision to work with plus 1 sign bit\n      // automatically handled for our convienence:\n      // 1. 0x003fffff /*opA & 0x000fffff*/ * 0x7fffffff /*opB*/ = 0x1fffff7fc00001\n      //    0x1fffff7fc00001 < Number.MAX_SAFE_INTEGER /*0x1fffffffffffff*/\n      var result = (opA & 0x003fffff) * opB;\n      // 2. We can remove an integer coersion from the statement above because:\n      //    0x1fffff7fc00001 + 0xffc00000 = 0x1fffffff800001\n      //    0x1fffffff800001 < Number.MAX_SAFE_INTEGER /*0x1fffffffffffff*/\n      if (opA & 0xffc00000) result += (opA & 0xffc00000) * opB | 0;\n      return result | 0;\n    }\n  };\n\n  let h1 = 0xdeadbeef ^ seed;\n  let h2 = 0x41c6ce57 ^ seed;\n  for (let i = 0, ch; i < str.length; i++) {\n    ch = str.charCodeAt(i);\n    h1 = imul(h1 ^ ch, 2654435761);\n    h2 = imul(h2 ^ ch, 1597334677);\n  }\n  h1 = imul(h1 ^ (h1 >>> 16), 2246822507) ^ imul(h2 ^ (h2 >>> 13), 3266489909);\n  h2 = imul(h2 ^ (h2 >>> 16), 2246822507) ^ imul(h1 ^ (h1 >>> 13), 3266489909);\n  return (4294967296 * (2097151 & h2) + (h1 >>> 0)).toString();\n}\n\n/**\n * returns the result of `JSON.parse(data)`, or undefined if that throws an error.\n * @param data\n * @returns {any}\n */\nexport function safeJSONParse(data) {\n  try {\n    return JSON.parse(data);\n  } catch (e) {}\n}\n\n/**\n * Returns a memoized version of `fn`.\n *\n * @param fn\n * @param key cache key generator, invoked with the same arguments passed to `fn`.\n *        By default, the first argument is used as key.\n * @return {function(): any}\n */\nexport function memoize(fn, key = function (arg) { return arg; }) {\n  const cache = new Map();\n  const memoized = function () {\n    const cacheKey = key.apply(this, arguments);\n    if (!cache.has(cacheKey)) {\n      cache.set(cacheKey, fn.apply(this, arguments));\n    }\n    return cache.get(cacheKey);\n  }\n  memoized.clear = cache.clear.bind(cache);\n  return memoized;\n}\n\n/**\n * Sets dataset attributes on a script\n * @param {Script} script\n * @param {object} attributes\n */\nexport function setScriptAttributes(script, attributes) {\n  Object.entries(attributes).forEach(([k, v]) => script.setAttribute(k, v))\n}\n\n/**\n * Perform a binary search for `el` on an ordered array `arr`.\n *\n * @returns the lowest nonnegative integer I that satisfies:\n *   key(arr[i]) >= key(el) for each i between I and arr.length\n *\n *   (if one or more matches are found for `el`, returns the index of the first;\n *   if the element is not found, return the index of the first element that's greater;\n *   if no greater element exists, return `arr.length`)\n */\nexport function binarySearch(arr, el, key = (el) => el) {\n  let left = 0;\n  let right = arr.length && arr.length - 1;\n  const target = key(el);\n  while (right - left > 1) {\n    const middle = left + Math.round((right - left) / 2);\n    if (target > key(arr[middle])) {\n      left = middle;\n    } else {\n      right = middle;\n    }\n  }\n  while (arr.length > left && target > key(arr[left])) {\n    left++;\n  }\n  return left;\n}\n","const SUCCESS = 0;\nconst FAIL = 1;\n\n/**\n * A version of Promise that runs callbacks synchronously when it can (i.e. after it's been fulfilled or rejected).\n */\nexport class GreedyPromise {\n  #result;\n  #callbacks;\n\n  /**\n   * Convenience wrapper for setTimeout; takes care of returning an already fulfilled GreedyPromise when the delay is zero.\n   *\n   * @param {Number} delayMs delay in milliseconds\n   * @returns {GreedyPromise} a promise that resolves (to undefined) in `delayMs` milliseconds\n   */\n  static timeout(delayMs = 0) {\n    return new GreedyPromise((resolve) => {\n      delayMs === 0 ? resolve() : setTimeout(resolve, delayMs);\n    });\n  }\n\n  constructor(resolver) {\n    if (typeof resolver !== 'function') {\n      throw new Error('resolver not a function');\n    }\n    const result = [];\n    const callbacks = [];\n    let [resolve, reject] = [SUCCESS, FAIL].map((type) => {\n      return function (value) {\n        if (type === SUCCESS && typeof value?.then === 'function') {\n          value.then(resolve, reject);\n        } else if (!result.length) {\n          result.push(type, value);\n          while (callbacks.length) callbacks.shift()();\n        }\n      }\n    });\n    try {\n      resolver(resolve, reject);\n    } catch (e) {\n      reject(e);\n    }\n    this.#result = result;\n    this.#callbacks = callbacks;\n  }\n\n  then(onSuccess, onError) {\n    const result = this.#result;\n    return new this.constructor((resolve, reject) => {\n      const continuation = () => {\n        let value = result[1];\n        let [handler, resolveFn] = result[0] === SUCCESS ? [onSuccess, resolve] : [onError, reject];\n        if (typeof handler === 'function') {\n          try {\n            value = handler(value);\n          } catch (e) {\n            reject(e);\n            return;\n          }\n          resolveFn = resolve;\n        }\n        resolveFn(value);\n      }\n      result.length ? continuation() : this.#callbacks.push(continuation);\n    });\n  }\n\n  catch(onError) {\n    return this.then(null, onError);\n  }\n\n  finally(onFinally) {\n    let val;\n    return this.then(\n      (v) => { val = v; return onFinally(); },\n      (e) => { val = this.constructor.reject(e); return onFinally() }\n    ).then(() => val);\n  }\n\n  static #collect(promises, collector, done) {\n    let cnt = promises.length;\n    function clt() {\n      collector.apply(this, arguments);\n      if (--cnt <= 0 && done) done();\n    }\n    promises.length === 0 && done ? done() : promises.forEach((p, i) => this.resolve(p).then(\n      (val) => clt(true, val, i),\n      (err) => clt(false, err, i)\n    ));\n  }\n\n  static race(promises) {\n    return new this((resolve, reject) => {\n      this.#collect(promises, (success, result) => success ? resolve(result) : reject(result));\n    })\n  }\n\n  static all(promises) {\n    return new this((resolve, reject) => {\n      let res = [];\n      this.#collect(promises, (success, val, i) => success ? res[i] = val : reject(val), () => resolve(res));\n    })\n  }\n\n  static allSettled(promises) {\n    return new this((resolve) => {\n      let res = [];\n      this.#collect(promises, (success, val, i) => res[i] = success ? {status: 'fulfilled', value: val} : {status: 'rejected', reason: val}, () => resolve(res))\n    })\n  }\n\n  static resolve(value) {\n    return new this(resolve => resolve(value))\n  }\n\n  static reject(error) {\n    return new this((resolve, reject) => reject(error))\n  }\n}\n\n/**\n * @returns a {promise, resolve, reject} trio where `promise` is resolved by calling `resolve` or `reject`.\n */\nexport function defer({promiseFactory = (resolver) => new GreedyPromise(resolver)} = {}) {\n  function invoker(delegate) {\n    return (val) => delegate(val);\n  }\n\n  let resolveFn, rejectFn;\n\n  return {\n    promise: promiseFactory((resolve, reject) => {\n      resolveFn = resolve;\n      rejectFn = reject;\n    }),\n    resolve: invoker(resolveFn),\n    reject: invoker(rejectFn)\n  }\n}\n","export default function dlv(obj, key, def, p, undef) {\n\tkey = key.split ? key.split('.') : key;\n\tfor (p = 0; p < key.length; p++) {\n\t\tobj = obj ? obj[key[p]] : undef;\n\t}\n\treturn obj === undef ? def : obj;\n}\n","module.exports = clone;\n\n/*\n  Identical to `just-extend(true, {}, obj1)`\n\n  var arr = [1, 2, 3];\n  var subObj = {aa: 1};\n  var obj = {a: 3, b: 5, c: arr, d: subObj};\n  var objClone = clone(obj);\n  arr.push(4);\n  subObj.bb = 2;\n  obj; // {a: 3, b: 5, c: [1, 2, 3, 4], d: {aa: 1}}  \n  objClone; // {a: 3, b: 5, c: [1, 2, 3], d: {aa: 1, bb: 2}}\n*/\n\nfunction clone(obj) {\n  var result = Array.isArray(obj) ? [] : {};\n  for (var key in obj) {\n    // include prototype properties\n    var value = obj[key];\n    if (value && typeof value == 'object') {\n      result[key] = clone(value);\n    } else {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _classApplyDescriptorGet(receiver, descriptor) {\n  if (descriptor.get) {\n    return descriptor.get.call(receiver);\n  }\n  return descriptor.value;\n}","export default function _classApplyDescriptorSet(receiver, descriptor, value) {\n  if (descriptor.set) {\n    descriptor.set.call(receiver, value);\n  } else {\n    if (!descriptor.writable) {\n      throw new TypeError(\"attempted to set read only private field\");\n    }\n    descriptor.value = value;\n  }\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","export default function _classExtractFieldDescriptor(receiver, privateMap, action) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n}","import classApplyDescriptorGet from \"./classApplyDescriptorGet.js\";\nimport classExtractFieldDescriptor from \"./classExtractFieldDescriptor.js\";\nexport default function _classPrivateFieldGet(receiver, privateMap) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"get\");\n  return classApplyDescriptorGet(receiver, descriptor);\n}","import classApplyDescriptorSet from \"./classApplyDescriptorSet.js\";\nimport classExtractFieldDescriptor from \"./classExtractFieldDescriptor.js\";\nexport default function _classPrivateFieldSet(receiver, privateMap, value) {\n  var descriptor = classExtractFieldDescriptor(receiver, privateMap, \"set\");\n  classApplyDescriptorSet(receiver, descriptor, value);\n  return value;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","import {install} from './debugging.js';\n\nwindow._pbjsGlobals.forEach((name) => {\n  if (window[name] && window[name]._installDebugging === true) {\n    window[name]._installDebugging = install;\n  }\n})\n"],"names":["deepAccess","deepClone","deepEqual","delayExecution","mergeDeep","BidInterceptor","opts","arguments","length","undefined","_opts$setTimeout","setTimeout","window","bind","logger","rules","Object","assign","prototype","DEFAULT_RULE_OPTIONS","delay","serializeConfig","ruleDefs","_this","isSerializable","ruleDef","i","serializable","JSON","parse","stringify","checkTypes","logWarn","concat","filter","updateConfig","config","_this2","intercept","map","rule","ruleNo","no","match","matcher","when","replace","replacer","then","options","matchDef","_typeof","logError","matches","candidate","_ref","_ref$ref","ref","_ref$args","args","entries","_ref2","_ref3","_slicedToArray","key","val","cVal","RegExp","exec","apply","_toConsumableArray","every","_len","Array","_key","replDef","_this3","replFn","_ref4","_ref5","_ref5$ref","result","isArray","forEach","_ref6","_ref7","bid","response","responseDefaults","_len2","_key2","hasOwnProperty","ad","defaultAd","isDebug","requestId","bidId","cpm","currency","width","height","ttl","creativeId","netRevenue","meta","bidResponse","bidder","_len3","_key3","find","matchAll","bids","bidRequest","_this4","remainder","push","_ref8","_this5","addBid","done","_this$matchAll","_this$matchAll2","callDone","mockResponse","logMessage","makePbsInterceptor","addHooks","removeHooks","interceptorHooks","bidInterceptor","enabled","enableDebugging","debugConfig","_ref$fromSession","fromSession","hook","setConfig","debug","resetHooks","disableDebugging","saveDebuggingConfig","_ref3$sessionStorage","sessionStorage","DEBUG_KEY","removeItem","e","setItem","getConfig","debugging","_ref4$getStorage","getStorage","sessionLoader","storage","overrides","getItem","enable","getHookFn","interceptor","getHooks","remove","_ref9","before","registerBidInterceptor","interceptBids","_bidInterceptor","next","bidderBidInterceptor","spec","ajax","wrapCallback","cbs","onCompletion","_interceptBids","onBid","_objectSpread","install","_ref10","createBid","pbsBidInterceptor","get","_ref11","init","addBidResponseBound","addBidderRequestsBound","addBidResponseHook","addBidderRequestsHook","bidExcluded","overrideObj","bidderCode","adUnitCode","bidderExcluded","bidders","indexOf","applyBidOverrides","bidObj","bidType","keys","reduce","reject","overrideBid","bidderRequests","includedBidderRequests","bidderRequest","bidRequests","CONSTANTS","s2sBidRequest","onResponse","onError","responseArgs","signalResponse","adUnit","STATUS","GOOD","req","bidIds","Set","add","ad_units","unit","has","bid_id","isValidPriceConfig","arrayFrom","from","includes","getParameterByName","isBoolean","isPlainObject","isStr","DEFAULT_DEBUG","DEBUG_MODE","toUpperCase","DEFAULT_BIDDER_TIMEOUT","DEFAULT_ENABLE_SEND_ALL_BIDS","DEFAULT_DISABLE_AJAX_TIMEOUT","DEFAULT_BID_CACHE","DEFAULT_DEVICE_ACCESS","DEFAULT_MAX_NESTED_IFRAMES","DEFAULT_TIMEOUTBUFFER","RANDOM","FIXED","VALID_ORDERS","DEFAULT_BIDDER_SEQUENCE","GRANULARITY_OPTIONS","LOW","MEDIUM","HIGH","AUTO","DENSE","CUSTOM","ALL_TOPICS","newConfig","listeners","defaults","bidderConfig","currBidder","resetConfig","getProp","name","props","setProp","publisherDomain","set","priceGranularity","validatePriceGranularity","hasGranularity","customPriceBucket","mediaTypePriceGranularity","aggregate","item","bidderSequence","auctionOptions","validateauctionOptions","bidderTimeout","enableSendAllBids","useBidCache","deviceAccess","timeoutBuffer","disableAjaxTimeout","maxNestedIframes","defineProperties","fromEntries","k","def","enumerable","callSubscribers","memo","topic","option","_i","_Object$keys","_getConfig","currBidderConfig","configTopicSet","_getRestrictedConfig","conf","defineProperty","Error","_map","accessor","subscribe","_map2","getAnyConfig","_map3","wrapee","readConfig","res","_map4","readAnyConfig","getBidderConfig","topics","topicalConfig","setDefaults","listener","callback","nl","_defineProperty","unsubscribe","splice","TOPICS","setBidderConfig","mergeFlag","check","func","obj","mergeConfig","mergedConfig","mergeBidderConfig","runWithBidder","fn","resetBidder","callbackWithBidder","cb","getCurrentBidder","isEmpty","_defaultPrecision","_lgPriceConfig","_mgPriceConfig","_hgPriceConfig","_densePriceConfig","_autoPriceConfig","getPriceBucketString","customConfig","granularityMultiplier","cpmFloat","parseFloat","isNaN","low","getCpmStringValue","med","high","auto","dense","custom","cpmStr","cap","buckets","prev","curr","max","bucketFloor","bucket","precision","toFixed","min","getCpmTarget","isValid","increment","bucketMin","roundingFunction","Math","floor","customRoundingFunction","pow","cpmToRound","cpmTarget","invalidRounding","err","Number","target","elem","start","arr","pred","thisArg","findIndex","scope","true","global","pbjs","cmd","que","_pbjsGlobals","getGlobal","registerModule","installedModules","clone","GreedyPromise","default","dset","deepSetValue","tStr","tFn","tNumb","tObject","tBoolean","toString","consoleExists","Boolean","console","consoleLogExists","log","consoleInfoExists","info","consoleWarnExists","warn","consoleErrorExists","error","eventEmitter","pbjsInstance","_setEventEmitter","emitFn","emitEvent","internal","checkCookieSupport","createTrackPixelIframeHtml","getWindowSelf","getWindowTop","getWindowLocation","insertUserSyncIframe","insertElement","isFn","triggerPixel","logInfo","parseQS","formatQS","prebidInternal","getPrebidInternal","getIncrementalInteger","count","getUniqueIdentifierStr","random","substr","generateUUID","placeholder","_getRandomData","crypto","getRandomValues","Uint8Array","getBidIdParameter","paramsObj","parseQueryStringParameters","queryObj","encodeURIComponent","transformAdServerTargetingObj","targeting","getOwnPropertyNames","join","parseSizesInput","sizeObj","split","sz","parseGPTSingleSizeArray","singleSize","isValidGPTSingleSize","parseGPTSingleSizeArrayToRtbSize","w","h","top","self","location","debugTurnedOn","decorateLog","EVENTS","AUCTION_DEBUG","type","prefixLog","prefix","decorate","slice","call","unshift","label","color","hasConsoleLogger","createIframe","DEFAULTS","border","hspace","vspace","marginWidth","marginHeight","scrolling","frameBorder","allowtransparency","doc","attrs","style","f","createElement","createInvisibleIframe","document","id","src","display","search","isA","object","_t","isNumber","isEmptyStr","str","_each","v","contains","a","elm","asLastChildChild","parentEl","getElementsByTagName","insertBeforeEl","firstChild","insertBefore","waitForElementToLoad","element","timeout","timer","resolve","onLoad","removeEventListener","clearTimeout","addEventListener","url","img","Image","callBurl","source","burl","S2S","SRC","insertHtmlIntoIframe","htmlCode","iframe","open","write","close","contentWindow","iframeHtml","div","innerHTML","createTrackPixelHtml","escapedUrl","encodeURI","encodeUri","sandbox","uniques","value","index","arry","flatten","b","getBidRequest","flatMap","br","some","prop","getValue","getBidderCodes","adUnits","isGptPubadsDefined","googletag","pubads","getSlots","isApnGetTagDefined","apntag","getTag","shuffle","array","counter","temp","inIframe","isSafariBrowser","test","navigator","userAgent","replaceMacros","subs","replaceAuctionPrice","AUCTION_PRICE","replaceClickThrough","clicktag","timestamp","Date","getTime","getPerformanceNow","performance","now","hasDeviceAccess","cookieEnabled","cookie","numRequiredCalls","numCalls","groupBy","xs","rv","x","getDefinedParams","params","param","isValidMediaTypes","mediaTypes","SUPPORTED_MEDIA_TYPES","SUPPORTED_STREAM_TYPES","types","video","context","getUserConfiguredParams","code","bidderData","getDNT","doNotTrack","msDoNotTrack","compareCodeAndSlot","slot","getAdUnitPath","getSlotElementId","isAdUnitCodeMatchingSlot","unsupportedBidderMessage","mediaType","isInteger","cleanObj","_","pick","properties","newObj","newProp","isArrayOfNums","size","query","acc","criteria","_criteria$split","_criteria$split2","parseUrl","parsed","noDecodeWholeURL","href","decodeURIComponent","qsAsString","decodeSearchAsString","protocol","hostname","port","pathname","hash","host","buildUrl","obj1","obj2","_ref10$checkTypes","constructor","props1","_props","sources","shift","_loop","addItFlag","cyrb53Hash","seed","imul","opA","opB","h1","h2","ch","charCodeAt","safeJSONParse","data","memoize","arg","cache","Map","memoized","cacheKey","clear","setScriptAttributes","script","attributes","_ref12","setAttribute","binarySearch","el","left","right","middle","round","SUCCESS","FAIL","_result","WeakMap","_callbacks","resolver","_classCallCheck","_classPrivateFieldInitSpec","writable","callbacks","_classPrivateFieldSet","_createClass","onSuccess","_classPrivateFieldGet","continuation","handler","resolveFn","_catch","_finally","onFinally","delayMs","race","promises","_classStaticPrivateMethodGet","_collect","success","all","allSettled","status","reason","collector","_this6","cnt","clt","p","defer","_ref3$promiseFactory","promiseFactory","invoker","delegate","rejectFn","promise","_installDebugging"],"sourceRoot":""}